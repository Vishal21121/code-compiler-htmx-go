<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
  <script src="./node_modules/htmx.org/dist/htmx.js"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
  <title>Vite App</title>
</head>

<body class="bg-gray-950">
  <div class="w-full h-[100vh] flex flex-col gap-x-0 gap-y-4 items-center p-8">
    <div class="flex justify-end gap-4 w-full relative right-[15rem]">
      <select id="lang" class="bg-gray-700 text-gray-300 p-2 rounded">
        <option value="javascript">javascript</option>
        <option value="python">python</option>
        <option value="go">go</option>
        <option value="Java">Java</option>
      </select>
      <button
        class="ring-2 ring-green-600 hover:shadow-green hover:shadow-green-500 px-4 py-2 rounded text-white font-semibold font-mono"
        hx-post="http://localhost:8080/code" hx-trigger="click" hx-target="#output" hx-swap="outerHTML"
        hx-vals="js:{lang:document.getElementById('lang').value,code:document.querySelector('textarea').value}"
        hx-config="setHeaders: {'Content-Type': 'application/json'}" hx-ext='json-enc' hx-indicator="#loading">
        Submit
      </button>
    </div>
    <textarea name="" id="" cols=" 30" rows="10"
      class="resize-none overflow-auto w-3/4 h-1/2 bg-gray-800 text-gray-300 outline-none p-2 rounded"></textarea>
    <p class="text-white text-2xl font-mono">Output</p>
    <span class="htmx-indicator" id="loading">
      <img src="./public/loader.gif" alt="Loading..." class="m-auto h-10" />
    </span>
    <pre lang="js" class="w-3/4 bg-gray-800 text-gray-300 p-2 rounded overflow-auto hidden" id="output">
    </pre>
  </div>
</body>

</html>